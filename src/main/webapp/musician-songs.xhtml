<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head/>
<h:body>
    <h2>Musician: #{songsOfMusician.musician.stageName}</h2>

    <c:choose>
        Songs:
        <c:when test="#{songsOfMusician.musician.songs.size() > 0}" >
            <ui:repeat value="#{songsOfMusician.musician.songs}" var="musicianSong">
                <ul>
                    <li><h:link value="#{musicianSong.title}" outcome="song-details?songId=#{musicianSong.id}" /></li>
                </ul>
            </ui:repeat>
        </c:when>
        <c:otherwise>
            <p>There are no songs added yet</p>
        </c:otherwise>
    </c:choose>

    <h3>Add song</h3>
    <h:form>
        Enter song title <br />
        <h:inputText value="#{songsOfMusician.songToCreate.title}" required="true" /> <br />

        Select date <br />
        <p:calendar value="#{songsOfMusician.songToCreate.releaseDate}" mode="popup" required="true"/> <br />
        <h:commandButton value="Add song" action="#{songsOfMusician.createSong}" >
            <f:param name="musicianId" value="#{songsOfMusician.musician.id}" />
        </h:commandButton>
    </h:form>
</h:body>
</html>
