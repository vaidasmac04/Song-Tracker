<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
>
<h:head/>
<h:body>
    <h1>Musicians</h1>
    <c:choose>
        <c:when test="#{musicians.allMusicians.size() > 0}" >
            <ul>
                <ui:repeat value="#{musicians.allMusicians}" var="musician">
                    <li><h:link value="#{musician.stageName}" outcome="musician-songs?musicianId=#{musician.id}" /></li>
                </ui:repeat>
            </ul>
        </c:when>
        <c:otherwise>
            <p>There are no musicians added yet</p>
        </c:otherwise>
    </c:choose>

    <h2>Add new musician</h2>
    <h:form>
        Enter musician stage name:
        <h:inputText value="#{musicians.musicianToCreate.stageName}" required="true" />
        <h:commandButton value="Add new musician" action="#{musicians.createMusician}" />
    </h:form>
</h:body>
</html>